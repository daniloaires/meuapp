var TI_Picker={};!function($){"use strict";$("head").append('<link rel="stylesheet" type="text/css" href="'+themifyIconsPlugin.css+'">'),TI_Picker={target:"",showLightbox:function(t){var n=TI_Picker;n.loadIconsList(function(){var t=$(document).scrollTop()+80,e=$("#TI_Picker"),i=$("#TI_Picker_overlay");$("body").on("click","#TI_Picker .themify-icons-lightbox_container a:not(.external-link)",function(t){t.preventDefault(),t.stopPropagation(),n.setIcon($(this).data("icon"))}).on("click","#TI_Picker_overlay, #TI_Picker .themify-icons-close_lightbox",function(t){t.preventDefault(),t.stopPropagation(),n.closeLightbox()}),i.show(),e.css("top",$(document).height()).show().animate({top:t},600)})},loadIconsList:function(e){$("#TI_Picker").length?e():$.ajax({url:themifyIconsPlugin.ajaxurl,type:"POST",data:{action:"ti_get_icons"},success:function(t){$("body").append(t),e()}})},setIcon:function(t){TI_Picker.target.val(t).trigger("change"),TI_Picker.closeLightbox()},closeLightbox:function(){$("#TI_Picker").animate({top:$(document).height()},400,function(){$("#TI_Picker_overlay").hide(),$(this).hide()})}},$("body").on("click",".tf_icons_picker",function(t){t.preventDefault(),TI_Picker.target=this.dataset.target?$(this.dataset.target):$(this).prev(),TI_Picker.showLightbox(TI_Picker.target.val())})}(jQuery),function($){"use strict";"undefined"!=typeof tinymce&&tinymce.PluginManager.add("themifyicons",function(n,t){n.addButton("themifyicons",{title:"Themify Icon",image:t+"/images/favicon.png",onclick:function(){var i=[];jQuery.each(themifyIconsPluginTinymce.fields,function(t,e){"colorbox"==e.type?e.onaction=function(){var t=n.settings.color_picker_callback;if(t)return function(){var e=this;t.call(n,function(t){e.value(t).fire("change")},e.value())}}():"iconpicker"==e.type&&(e={type:"container",label:e.label,layout:"flex",direction:"row",items:[{type:"textbox",name:e.name},{type:"button",text:e.text,onclick:function(){TI_Picker.target=jQuery(this.$el).prev(),TI_Picker.showLightbox(null)}}]}),i.push(e)}),n.windowManager.open({title:themifyIconsPluginTinymce.menuName,body:i,onSubmit:function(t){var e=this.toJSON(),i=(e.selectedContent=n.selection.getContent(),wp.template("themify-icons-plugin"));n.insertContent(i(e))}})}})})}(jQuery);